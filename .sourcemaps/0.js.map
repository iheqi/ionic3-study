{"version":3,"sources":["../../src/pages/shrinking-segment-header/shrinking-segment-header.module.ts","../../src/pages/shrinking-segment-header/shrinking-segment-header.ts","../../src/components/components.module.ts","../../src/components/shrinking-segment-header/shrinking-segment-header.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACwB;AACH;AAUrE,IAAa,gCAAgC;IAA7C;IAA+C,CAAC;IAAD,uCAAC;AAAD,CAAC;AAAnC,gCAAgC;IAT5C,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6FAA0B;SAC3B;QACD,OAAO,EAAE;YACP,uFAAgB;YAChB,8DAAe,CAAC,QAAQ,CAAC,6FAA0B,CAAC;SACrD;KACF,CAAC;GACW,gCAAgC,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACbH;AACe;AASzD,IAAa,0BAA0B;IAGrC,oCAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAFtE,YAAO,GAAW,KAAK,CAAC;QACxB,eAAU,GAAQ,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;IAGhC,CAAC;IAED,mDAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;IAC3D,CAAC;IAEH,iCAAC;AAAD,CAAC;AAXY,0BAA0B;IAJtC,gEAAS,CAAC;QACT,QAAQ,EAAE,+BAA+B;OACG;KAC7C,CAAC;+BAIsE;AAQvE;SAXY,0BAA0B,iB;;;;;;;;;;;;;;;;;ACVE;AAC6D;AAMtG,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAL5B,+DAAQ,CAAC;QACT,YAAY,EAAE,CAAC,2HAA+B,CAAC;QAC/C,OAAO,EAAE,EAAE;QACX,OAAO,EAAE,CAAC,2HAA+B,CAAC;KAC1C,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACP2C;AAOxE,IAAa,+BAA+B;IAK1C,yCAAmB,OAAmB,EAAS,SAAoB;QAAhD,YAAO,GAAP,OAAO,CAAY;QAAS,cAAS,GAAT,SAAS,CAAW;QACjE,OAAO,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;IACjE,CAAC;IACC,cAAc;IAChB,yDAAe,GAAf;QACE,6DAA6D;QAC7D,+CAA+C;QAC/C,+CAA+C;QAC/C,SAAS;QAJX,iBAkBC;QAZC,iGAAiG;QACjG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;QAExF,KAAK;QACL,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;YAClC,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QACH,iEAAiE;QACjE,0DAA0D;QACxD,sCAAsC;QACxC,KAAK;IAEP,CAAC;IACD,sDAAY,GAAZ,UAAa,GAAG;QACd,qBAAqB;QACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,SAAS,CAAC;QACzD,EAAE,EAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,EAAC;YAC3B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC;QAC7F,KAAK;IACP,CAAC;IACH,sCAAC;AAAD,CAAC;AApCsB;IAApB,4DAAK,CAAC,YAAY,CAAC;;mEAAiB;AACd;IAAtB,4DAAK,CAAC,cAAc,CAAC;;qEAAsB;AAFjC,+BAA+B;IAJ3C,gEAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;OACQ;KAC7C,CAAC;oCAMmE;AAgCpE;SArCY,+BAA+B,Y","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShrinkingSegmentHeaderPage } from './shrinking-segment-header';\nimport { ComponentsModule } from '../../components/components.module'\n@NgModule({\n  declarations: [\n    ShrinkingSegmentHeaderPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(ShrinkingSegmentHeaderPage),\n  ],\n})\nexport class ShrinkingSegmentHeaderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shrinking-segment-header/shrinking-segment-header.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-shrinking-segment-header',\n  templateUrl: 'shrinking-segment-header.html',\n})\nexport class ShrinkingSegmentHeaderPage {\n  section: string = 'one';\n  somethings: any = new Array(20);\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ShrinkingSegmentHeaderPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shrinking-segment-header/shrinking-segment-header.ts","import { NgModule } from '@angular/core';\nimport { ShrinkingSegmentHeaderComponent } from './shrinking-segment-header/shrinking-segment-header';\n@NgModule({\n\tdeclarations: [ShrinkingSegmentHeaderComponent],\n\timports: [],\n\texports: [ShrinkingSegmentHeaderComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Input, ElementRef, Renderer2 } from '@angular/core';\n\n\n@Component({\n  selector: 'shrinking-segment-header',\n  templateUrl: 'shrinking-segment-header.html'\n})\nexport class ShrinkingSegmentHeaderComponent {\n  @Input('scrollArea') scrollArea: any;\n  @Input('headerHeight') headerHeight: number;\n  newHeaderHeight: any;\n\n  constructor(public element: ElementRef, public renderer2: Renderer2) {\n    console.log('Hello ShrinkingSegmentHeaderComponent Component');\n  }\n    // 模板中的元素已创建完成\n  ngAfterViewInit(){\n    // https://segmentfault.com/a/1190000010326100#articleHeader5\n    // 在 Angular 4.x+ 版本，我们使用 Renderer2 替代 Renderer\n    // 在浏览器环境中，native 元素通常是指 整个 DOM 元素，这里则是指 整个收缩组件\n    // 设置初始高度\n\n    // this.renderer.setElementStyle(this.element.nativeElement, 'height', this.headerHeight + 'px');\n    this.renderer2.setStyle(this.element.nativeElement, 'height', this.headerHeight + 'px');\n    \n    // 监听\n    this.scrollArea.ionScroll.subscribe(() => {\n      this.resizeHeader(this.scrollArea);\n    });\n    // 不知为何无法使用listen(),报错：element.addEventListener is not a function\n    // this.renderer2.listen(this.scrollArea,'ionScroll',()=>{\n      // this.resizeHeader(this.scrollArea);\n    // })\n    \n  }\n  resizeHeader(ele){\n    //ev.domWrite(() => {\n      this.newHeaderHeight = this.headerHeight - ele.scrollTop;\n      if(this.newHeaderHeight < 0){\n        this.newHeaderHeight = 0;\n      }  \n      this.renderer2.setStyle(this.element.nativeElement, 'height', this.newHeaderHeight + 'px');\n    //});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shrinking-segment-header/shrinking-segment-header.ts"],"sourceRoot":""}